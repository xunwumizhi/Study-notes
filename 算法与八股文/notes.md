
# 网络

HTTP客户端使用了连接池，避免频繁建立带来的大开销，

HTTP服务端的路由只是一个静态索引匹配，对于动态路由匹配支持的不好，并且每一个请求都会创建一个gouroutine进行处理，海量请求到来时需要考虑这块的性能瓶颈；

# 数据结构设计

## 连续内存

go slice内存分配_anssummer的博客-CSDN博客_slice是什么时候分配内存的
https://blog.csdn.net/yizhou35/article/details/103408133

底层为数组，连续内存，读取快速。但是空间不够会扩容，连续内存扩容也很快

Go 在 append 和 copy 方面的开销是可预知+可控的，应用上简单的调优有很好的效果。这个世界上没有免费的动态增长内存，各种实现方案都有设计权衡。

在go语言中slice是很灵活的，大部分情况都能表现的很好，但也有特殊情况。当程序要求slice的容量超大并且需要频繁的更改slice的内容时，就不应该用slice，改用list更合适。

## 内存对齐

编译器使用「字节对齐」的方式分配内存时，虽然 char 类型只占一个字节，但是由于成员变量里有 int 类型，它占用了 4 个字节，所以在成员变量为 char 类型分配内存时，会分配 4 个字节，其中这多余的 3 个字节是为了字节对齐而分配的，相当于有 3 个字节被浪费掉了。

